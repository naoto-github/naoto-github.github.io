<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>NyARToolkit for Unityで画像を表示</title>
  <meta name="description" content="椙山女学園大学 文化情報学部 向研究室のブログです．授業で使用する技術的な資料に加え，女子大教員の日常を４コマ漫画形式で公開しています．">

  <link rel="stylesheet" href="/css/main.css">
  <!-- <link rel="stylesheet" href="/css/style.css"> -->
  <link rel="canonical" href="http://localhost:4000/contents/unity/artoolkit2.html">
  <link rel="alternate" type="application/rss+xml" title="M's Lab. （えむらぼ）" href="http://localhost:4000/feed.xml">

  <!-- Faviconの実装 -->
  <link rel="shortcut icon" href="/favicon.ico" type="image/vnd.microsoft.icon">
  <link rel="icon" href="/favicon.ico" type="image/vnd.microsoft.icon">
  <link rel="apple-touch-icon" sizes="57x57" href="/favicon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/favicon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/favicon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/favicon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/favicon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/favicon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/favicon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/favicon/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/favicon/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/favicon/favicon-48x48.png" sizes="48x48">
  <link rel="icon" type="image/png" href="/favicon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/favicon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/favicon/favicon-32x32.png" sizes="32x32">
  <link rel="manifest" href="favicon/manifest.json">
  <meta name="msapplication-TileColor" content="#2d88ef">
  <meta name="msapplication-TileImage" content="/mstile-144x144.png">

  <!-- Mathjax -->
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-2.2.0.min.js" type="text/javascript"></script>

  <!-- Slick.js -->
  <link rel="stylesheet" href="/css/slick.css">
  <link rel="stylesheet" href="/css/slick-theme.css">
  <script src="/js/slick.min.js"></script>

  <!-- My Style -->
  <link rel="stylesheet" href="/css/mystyle.css">

  <!-- OGP -->
  
  <meta property="og:image" content="https://i.gyazo.com/f6c58bee65721d185c566a05eaa41920.png">
  
</head>

<!-- Facebookいいねボタンの実装 -->
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.async = true;
  js.src = "//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.5";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<!-- Twitterボタンの実装 -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Google Adsense ページ単位の広告 -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-1652300955422837",
    enable_page_level_ads: true
  });
</script>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">
        <img src="/favicon/favicon.png" height="50px" style="margin-bottom:10px;margin-right:2px">
        <span style="color:#00606D;font-weight:bold">M</span>'s Lab.
    </a>

    <nav class="site-nav">

      <div class="trigger">
        <a class="page-link" href="/">Top</a>
        <a class="page-link" href="/class.html">担当科目</a><a class="page-link" href="/contents.html">コンテンツ</a><a class="page-link" href="/profile.html">登場キャラ</a>
      </div>
    </nav>

  </div>

  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-77390013-1', 'auto');
    ga('send', 'pageview');
  </script>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post">

  <meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@site_username">
<meta name="twitter:creator" content="@creator_username">


  <meta name="twitter:title" content="NyARToolkit for Unityで画像を表示">



  <meta name="twitter:url" content="http://localhost:4000/contents/unity/artoolkit2.html">



  <meta name="twitter:description" content="椙山女学園大学 文化情報学部 向研究室のブログです．授業で使用する技術的な資料に加え，女子大教員の日常を４コマ漫画形式で公開しています．">



  <meta name="twitter:image:src" content="https://i.gyazo.com/f6c58bee65721d185c566a05eaa41920.png">



  <header class="post-header">
    <h1 class="post-title">NyARToolkit for Unityで画像を表示</h1>
    <!-- Facebook Button -->
<div style="margin-bottom:2px" class="fb-like" data-href="http://mukai-lab.info//contents/unity/artoolkit2.html" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div>

<!-- Twitter Button -->
<div>
  <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-via="nmukai1978" data-hashtags="mlab" data-show-count="false">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
  <a href="https://twitter.com/nmukai1978?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @nmukai1978</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div>




    <!-- <div class="fb-like" data-href="http://naoto-github.github.io//contents/unity/artoolkit2.html" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div> -->
  </header>

  <div class="post-content">
    <p><a href="https://gyazo.com/eb9f233ddaeb4f26ee648f21e330e755"><img src="https://i.gyazo.com/eb9f233ddaeb4f26ee648f21e330e755.png" alt="https://gyazo.com/eb9f233ddaeb4f26ee648f21e330e755" /></a></p>

<h1 id="画像の準備"><img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png" />画像の準備</h1>

<p><strong><a href="http://nyatla.jp/nyartoolkit/wp/">NyARToolkit</a></strong>のパッケージに含まれる
サンプル<strong>SimpleLite</strong>はマーカーを検出すると赤色の立方体（Cube）を表示するプログラムです。
この<strong>SimpleLite</strong>を修正し、一般的なJPGやPNGなどの画像を立体的に表示できるよう改良します。</p>

<p><strong>SimpleLite</strong>フォルダをコピーし、フォルダに含まれるC#スクリプトを<strong>ARPictureCamera</strong>、
シーンを<strong>ARPictureScene</strong>にファイル名を変更した状態を前提とします
（詳細は<a href="artoolkit.html">NyARToolkit for Unityの導入</a>を参照）。</p>

<p>立方体の代わりに表示する犬の画像（<a href="https://i.gyazo.com/ea8d174fc70bc754fa32fb9b5391b6d8.png">001.png</a>）は下記です。
この画像は、<a href="http://www.templatebank.com/index.htm">テンプレートBANK</a>を参考に、本学の学生が作成しました。
画像サイズは<strong>300x300</strong>ピクセル、画像フォーマットは透過背景のPNGです。</p>

<p><a href="https://gyazo.com/ea8d174fc70bc754fa32fb9b5391b6d8"><img src="https://i.gyazo.com/ea8d174fc70bc754fa32fb9b5391b6d8.png" alt="https://gyazo.com/ea8d174fc70bc754fa32fb9b5391b6d8" /></a></p>

<p>まずは、新規にanimalsフォルダを作成し、上記の画像をコピーしておきます。
対象のフォルダには、C#スクリプトの<strong>ARPictureCamera</strong>、シーンの<strong>ARPictureScene</strong>、
画像フォルダの<strong>animals</strong>が含まれる状態になっていることを確認してください。</p>

<p><a href="https://gyazo.com/9a1f482995720f6a71cbf20c9df892af"><img src="https://i.gyazo.com/9a1f482995720f6a71cbf20c9df892af.png" alt="https://gyazo.com/9a1f482995720f6a71cbf20c9df892af" /></a></p>

<h1 id="テクスチャの利用"><img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png" />テクスチャの利用</h1>

<p>立方体（Cube）に犬の画像（<a href="https://i.gyazo.com/ea8d174fc70bc754fa32fb9b5391b6d8.png">001.png</a>）をテクスチャとして貼り付けることで、
マーカーを検出すると<strong>犬の画像</strong>を立体的（マーカーから少し浮いた状態）に表示してみます。</p>

<p>まずは、Assetsフォルダで[Create]-[Materials]を選択し、新規にマテリアルを作成します。
マテリアルの名前は<strong>Dog</strong>に変更しておきます。
画像フォーマットが透過背景であることから、Inspectorで<strong>Shader</strong>を<strong>Unit/Transparent</strong>に設定します。
<strong>Unit/Transparent</strong>はテクスチャ画像のアルファ値を反映して透過にすることが可能なシェーダーです。
次に、Textureを<strong>犬の画像</strong>に変更します
これで、オブジェクトに設定するマテリアルが準備できました。</p>

<p><a href="https://gyazo.com/955b8afe1acafd49199da3e6419b2454"><img src="https://i.gyazo.com/955b8afe1acafd49199da3e6419b2454.png" alt="https://gyazo.com/955b8afe1acafd49199da3e6419b2454" /></a></p>

<p><a href="https://gyazo.com/8803d04b407a6981c3581f6186332bc6"><img src="https://i.gyazo.com/8803d04b407a6981c3581f6186332bc6.png" alt="https://gyazo.com/8803d04b407a6981c3581f6186332bc6" /></a></p>

<p>次に、シーンの<strong>ARPictureScene</strong>をダブルクリックします。
ここで、Hierarchyから[Create]-[3D Object]-[Cube]を選択し、新規に立方体（Cube）のオブジェクトを作成します。
オブジェクトの名前は<strong>DogObject</strong>に変更しておきます。
このDogObjectをドラッグして、MarkerObjectの直下に配置します。
このとき、デフォルトで設定されている、Cubeオブジェクトは削除しておきます。</p>

<p>DogObjectのInspectorから、オブジェクトの<strong>位置（Position）</strong>や<strong>サイズ（Scale）</strong>を修正します。
位置はX=0、Y=0、Z=20とし、サイズはX=80、Y=80、Z=0とします（Z=0とすることで幅がなくなり平面となります）。</p>

<p><a href="https://gyazo.com/fd5d0e973bb745a680b5a478e4a67ebc"><img src="https://i.gyazo.com/fd5d0e973bb745a680b5a478e4a67ebc.png" alt="https://gyazo.com/fd5d0e973bb745a680b5a478e4a67ebc" /></a></p>

<p>最後に、DogObjectのMaterialsをクリックして、作成した<strong>Dog</strong>を選択しておきます。
<strong>再生ボタン</strong>をクリックすると、犬の画像（<a href="https://i.gyazo.com/ea8d174fc70bc754fa32fb9b5391b6d8.png">001.png</a>）が表示されることを確認してください。
テクスチャ画像が上下反対に張り付けられる場合は、
<strong>Tiling</strong>のYの値を<strong>-1</strong>に変更します（Direct3DかOpenGLで振る舞いが異なるようです）。</p>

<p><a href="https://gyazo.com/18bd19ecb1af79004b6e0a631bf3abf4"><img src="https://i.gyazo.com/18bd19ecb1af79004b6e0a631bf3abf4.png" alt="https://gyazo.com/18bd19ecb1af79004b6e0a631bf3abf4" /></a></p>

<p><a href="https://gyazo.com/4279257efa34be9c112afbb3b7d26549"><img src="https://i.gyazo.com/4279257efa34be9c112afbb3b7d26549.png" alt="https://gyazo.com/4279257efa34be9c112afbb3b7d26549" /></a></p>

<p>次回は画像の代わりに<strong>3Dオブジェクト</strong>を表示することにに挑戦してみます。</p>

<h3>参考書籍</h3>

<iframe src="http://rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=F8F8F8&amp;IS2=1&amp;nou=1&amp;bg1=F8F8F8&amp;fc1=000000&amp;lc1=0000FF&amp;t=naotoassociat-22&amp;o=9&amp;p=8&amp;l=as1&amp;m=amazon&amp;f=ifr&amp;ref=tf_til&amp;asins=4797384433" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
<iframe src="http://rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=F8F8F8&amp;IS2=1&amp;nou=1&amp;bg1=F8F8F8&amp;fc1=000000&amp;lc1=0000FF&amp;t=naotoassociat-22&amp;o=9&amp;p=8&amp;l=as1&amp;m=amazon&amp;f=ifr&amp;ref=tf_til&amp;asins=4797384255" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
<iframe src="http://rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=F8F8F8&amp;IS2=1&amp;nou=1&amp;bg1=F8F8F8&amp;fc1=000000&amp;lc1=0000FF&amp;t=naotoassociat-22&amp;o=9&amp;p=8&amp;l=as1&amp;m=amazon&amp;f=ifr&amp;ref=tf_til&amp;asins=B01E51LA4Y" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>

<!--
<ul>
    <li>中山清喬(2014)『スッキリわかるJava入門 入門編 第2版』インプレス </li>
    <li>中山清喬(2014)『スッキリわかるJava入門 実践編 第2版』インプレス </li>
    <li>日向俊二(2015)『JavaFX & Java8 プログラミング Javaによる新しいGUI プログラミング入門』カットシステム</li>
</ul>
-->

  </div>

</article>

      </div>
    </div>

    <!-- Google Adsence -->
<div style="border-top: 2px solid black">
    <div class="wrapper">
        <h3>スポンサーリンク</h3>

        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- フッター（モバイル） -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:320px;height:100px"
             data-ad-client="ca-pub-1652300955422837"
             data-ad-slot="6854507108"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>
</div>


    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">
        <!-- <div style="margin-bottom:0px"><a href="https://twitter.com/share" class="twitter-share-button">Tweet</a></div>
        <div class="fb-like" data-href="http://naoto-github.github.io/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div> -->
    </h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <!-- <li>M's Lab. （えむらぼ）</li> -->
          <!-- <li><a href="mailto:nmukai@sugiyama-u.ac.jp">nmukai@sugiyama-u.ac.jp</a></li> -->
          <li style="margin-bottom:5px">
              <!-- Facebook Button -->
<div style="margin-bottom:2px" class="fb-like" data-href="http://mukai-lab.info//contents/unity/artoolkit2.html" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div>

<!-- Twitter Button -->
<div>
  <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-via="nmukai1978" data-hashtags="mlab" data-show-count="false">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
  <a href="https://twitter.com/nmukai1978?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @nmukai1978</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div>




              <!-- <div class="fb-like" data-href="http://naoto-github.github.io/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div>
              <div><a href="https://twitter.com/share" class="twitter-share-button" data-via="nmukai1978" data-hashtags="mlab">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></div> -->
          </li>
          <!-- <li><div><a href="https://twitter.com/share" class="twitter-share-button">Tweet</a></div></li> -->
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/naoto-github"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">naoto-github</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/nmukai1978"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">nmukai1978</span></a>

          </li>
          

          
          <li>
            <a href="https://www.facebook.com/nmukai1978"><span class="icon icon--facebook"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="300px" height="300px" viewBox="0 0 300 300">
	<defs>
		<style>
			.fill {fill: #3b5998;}
		</style>
	</defs>
	<path class="fill" d="M283.000,-0.000 C283.000,-0.000 17.000,-0.000 17.000,-0.000 C7.853,-0.000 -0.000,7.854 -0.000,17.000 C-0.000,17.000 -0.000,283.000 -0.000,283.000 
			 C-0.000,292.144 7.853,300.000 17.000,300.000 C17.000,300.000 161.000,300.000 161.000,300.000 C161.000,300.000 161.000,183.000 161.000,183.000 
			 C161.000,183.000 121.000,183.000 121.000,183.000 C121.000,183.000 121.000,139.000 121.000,139.000 C121.000,139.000 161.000,139.000 161.000,139.000 
			 C161.000,139.000 161.000,105.000 161.000,105.000 C161.000,66.251 183.432,45.000 218.000,45.000 C234.558,45.000 249.852,46.449 254.000,47.000 
			 C254.000,47.000 254.000,88.000 254.000,88.000 C254.000,88.000 229.000,88.000 229.000,88.000 C210.201,88.000 207.000,96.891 207.000,110.000 
			 C207.000,110.000 207.000,139.000 207.000,139.000 C207.000,139.000 252.000,139.000 252.000,139.000 C252.000,139.000 246.000,183.000 246.000,183.000 
			 C246.000,183.000 207.000,183.000 207.000,183.000 C207.000,183.000 207.000,300.000 207.000,300.000 C207.000,300.000 283.000,300.000 283.000,300.000 
			 C292.144,300.000 300.000,292.144 300.000,283.000 C300.000,283.000 300.000,17.000 300.000,17.000 C300.000,7.854 292.144,-0.000 283.000,-0.000 Z"/>
</svg>
</span><span class="username">nmukai1978</span></a>

          </li>
          

        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>椙山女学園大学 文化情報学部 向研究室のブログです．授業で使用する技術的な資料に加え，女子大教員の日常を４コマ漫画形式で公開しています．</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
