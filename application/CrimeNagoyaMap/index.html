<!DOCTYPE html>
<!-- saved from url=(0047)https://mukai-lab.info/tech/leaflet/sample.html -->
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <!-- ページタイトル -->
  <title>犯罪分布マップ</title>
  <!-- leaflet.css -->
  <link rel="stylesheet" href="./files/leaflet.css">
  <!-- leaflet.js -->
  <script src="./files/leaflet.js"></script>
  <script src="data.js"></script>
</head>

<body>

  <h1>犯罪分布マップ<p></p>

  <!-- 地図を表示するブロック要素 -->
  <div id="mymap" style="width: 600px; height: 480px;">"

    <!--
    position: relative; outline: none;" class="leaflet-container leaflet-touch leaflet-retina leaflet-fade-anim leaflet-grab leaflet-touch-drag leaflet-touch-zoom" tabindex="0"><div class="leaflet-pane leaflet-map-pane" style="transform: translate3d(0px, 0px, 0px);"><div class="leaflet-pane leaflet-tile-pane"><div class="leaflet-layer " style="z-index: 1; opacity: 1;"><div class="leaflet-tile-container leaflet-zoom-animated" style="z-index: 18; transform: translate3d(0px, 0px, 0px) scale(1);"><img alt="" role="presentation" src="./オリジナルマップの作成_files/25923.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(103px, 187px, 0px); opacity: 1;"><img alt="" role="presentation" src="./オリジナルマップの作成_files/25922.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(103px, -69px, 0px); opacity: 1;"><img alt="" role="presentation" src="./オリジナルマップの作成_files/25923(1).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-153px, 187px, 0px); opacity: 1;"><img alt="" role="presentation" src="./オリジナルマップの作成_files/25923(2).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(359px, 187px, 0px); opacity: 1;"><img alt="" role="presentation" src="./オリジナルマップの作成_files/25924.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(103px, 443px, 0px); opacity: 1;"><img alt="" role="presentation" src="./オリジナルマップの作成_files/25922(1).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-153px, -69px, 0px); opacity: 1;"><img alt="" role="presentation" src="./オリジナルマップの作成_files/25922(2).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(359px, -69px, 0px); opacity: 1;"><img alt="" role="presentation" src="./desktop/25924(1).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-153px, 443px, 0px); opacity: 1;"><img alt="" role="presentation" src="./オリジナルマップの作成_files/25924(2).png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(359px, 443px, 0px); opacity: 1;"></div></div></div><div class="leaflet-pane leaflet-shadow-pane"><img src="./desktop/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -12px; margin-top: -41px; width: 41px; height: 41px; transform: translate3d(300px, 240px, 0px);"><img src="./オリジナルマップの作成_files/marker-shadow.png" class="leaflet-marker-shadow leaflet-zoom-animated" alt="" style="margin-left: -12px; margin-top: -41px; width: 41px; height: 41px; transform: translate3d(210px, 65px, 0px);"></div><div class="leaflet-pane leaflet-overlay-pane"></div><div class="leaflet-pane leaflet-marker-pane"><img src="./desktop/marker-icon-2x.png" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -12px; margin-top: -41px; width: 25px; height: 41px; transform: translate3d(300px, 240px, 0px); z-index: 240;"><img src="./オリジナルマップの作成_files/marker-icon-2x.png" class="leaflet-marker-icon leaflet-zoom-animated leaflet-interactive" alt="" tabindex="0" style="margin-left: -12px; margin-top: -41px; width: 25px; height: 41px; transform: translate3d(210px, 65px, 0px); z-index: 65;"></div><div class="leaflet-pane leaflet-tooltip-pane"></div><div class="leaflet-pane leaflet-popup-pane"></div><div class="leaflet-proxy leaflet-zoom-animated" style="transform: translate3d(1.47727e+07px, 6.63634e+06px, 0px) scale(32768);"></div></div><div class="leaflet-control-container"><div class="leaflet-top leaflet-left"><div class="leaflet-control-zoom leaflet-bar leaflet-control"><a class="leaflet-control-zoom-in" href="https://mukai-lab.info/tech/leaflet/sample.html#" title="Zoom in" role="button" aria-label="Zoom in">+</a><a class="leaflet-control-zoom-out" href="https://mukai-lab.info/tech/leaflet/sample.html#" title="Zoom out" role="button" aria-label="Zoom out">−</a></div></div><div class="leaflet-top leaflet-right"></div><div class="leaflet-bottom leaflet-left"></div><div class="leaflet-bottom leaflet-right"><div class="leaflet-control-attribution leaflet-control"><a href="http://leafletjs.com/" title="A JS library for interactive maps">Leaflet</a> | © <a href="http://osm.org/copyright">OpenStreetMap</a> contributors</div></div></div></div>
  -->

  <script>


    /* 緯度・経度と倍率の指定 */
    var mymap = L.map("mymap").setView([35.1706431, 136.8816945], 17);


    /* 地図タイルとクレジット表示 */
    L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
        {
          attribution: "&copy; <a href='http://osm.org/copyright'>OpenStreetMap</a> contributors"
        }
    ).addTo(mymap);



    /* GeoJSONの読込 */
    L.geoJSON(data,{
      pointToLayer: function(feature, latlng){
        return L.circleMarker(latlng, {
          fillColor: feature.properties.color,
          color: feature.properties.color,
        });
      },
      onEachFeature: function(feature, layer){
        layer.bindPopup("<div style='width:150px'>" + feature.properties.name + "</div>  <img src='./images/" + feature.properties.img + "'>" );
      }
    }).addTo(mymap);

    /* イベント処理 */
    var popup = L.popup();
    function onMapClick(e){
      popup.setLatLng(e.latlng).setContent(
        "<p>緯度:" + e.latlng.lat + " 経度:" + e.latlng.lng + "</p>"
      ).openOn(mymap);
    }
    mymap.on("click", onMapClick)


  </script>



</h1></body></html>
