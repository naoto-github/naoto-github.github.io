---
layout: page
title: "オブジェクト指向①クラスとメソッド"
permalink: /class/applied_programming/chapter7.html
top_link: false
image: "https://i.gyazo.com/0c234740f4a9eba657d27aaa4eb9982f.png"
---

[![https://gyazo.com/0c234740f4a9eba657d27aaa4eb9982f](https://i.gyazo.com/0c234740f4a9eba657d27aaa4eb9982f.png)](https://gyazo.com/0c234740f4a9eba657d27aaa4eb9982f)

# <img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png">プロジェクトの準備

Eclipseで新規にプロジェクトを作成しましょう。
メニューから[ファイル]-[新規]-[Javaプロジェクト]をクリックして、「新規Javaプロジェクトの作成」を開きます。
ここでは、プロジェクト名に”Project7”を入力して、[完了]をクリックしましょう。
パッケージ・エクスプローラに作成したプロジェクトが表示されていることを確認してください。

[![https://gyazo.com/22610af9840928497c6104a55a292686](https://i.gyazo.com/22610af9840928497c6104a55a292686.png)](https://gyazo.com/22610af9840928497c6104a55a292686)

続いてソースファイルを作成しましょう。
メニューから[ファイル]-[新規]-[クラス]をクリックして、「新規Javaクラス」を開きます。
ここでは、名前に”MyClass”を入力し、public static void main(String[] args)(V)にチェックを入れ、[完了]をクリックしましょう。
パッケージ・エクスプローラに作成したソースファイルが表示されていることを確認してください。

[![https://gyazo.com/54882311408742cdb538a002ade499e4](https://i.gyazo.com/54882311408742cdb538a002ade499e4.png)](https://gyazo.com/54882311408742cdb538a002ade499e4)

# <img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png">オブジェクト指向

今回はJavaの本質とも言える**オブジェクト指向**について学びます。
オブジェクト指向は、大規模なプログラムを作成する際の開発者の負担を減らすための**コンセプト**であり、
オブジェクト指向に沿ってプログラミングすることでプログラムの「柔軟性」「保守性」「再利用性」の向上が期待できます。
しかし、オブジェクト指向はあくまでコンセプトであり、たとえ経験豊かなエンジニアであっても、
一言で「オブジェクト指向が何か」を言い表すことは難しく、
Javaプログラミング初心者にとっては大きな障壁となりがちです。

極論すれば、オブジェクト指向とは「現実世界の**オブジェクト（もの）**を、
そのままプログラムの世界の**オブジェクト（もの）**に置き換えること」と言えます。
例えば、**サッカー選手**をプログラムの世界に置き換えることを考えてみます
（[ウイニングイレブン](http://www.konami.jp/we/)などのサッカーゲームを想像してください）。
サッカー選手をプログラムの世界で表現するには、サッカー選手の特徴を数値化したり、それぞれの役割や操作を定義する必要があります。
例えばサッカーゲームの本田圭佑選手は、**キック力**は80、**ドリブルスピード**は76などのように、個々の特徴を数値で特徴化していますね。
他にも、**ポジション**はフォワードやミッドフィールダー、**操作**はドリブルやシュートなどを設定する必要がありそうです。

オブジェクト指向では、オブジェクト（サッカー選手）を表現する型のことを**クラス**、そして、
型を実体化したもの（本田圭佑選手）を**インスタンス**と呼びます。
また、個々の特徴を**フィールド**、操作を**メソッド**と呼びます。
一方、**オブジェクト**は実は曖昧な表現で、クラスとインスタンスの両方の意味で用いられることがあるので注意が必要です。

# <img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png">クラスの定義

ここでは、現実世界の「色画用紙」をクラスで表現することを考えてみましょう。
画用紙に必要な特徴は何でしょうか。
ここでは、**幅（width）**、**高さ（height）**、**色（color）**を色画用紙を表す特徴として考えていきましょう。

[![https://gyazo.com/8d24e80f1da1c1017dfe8f92d7bf2a30](https://i.gyazo.com/8d24e80f1da1c1017dfe8f92d7bf2a30.png)](https://gyazo.com/8d24e80f1da1c1017dfe8f92d7bf2a30)

クラスはファイルに１つだけ定義するのが基本です。
まずは、色画用紙を表す**Paper**クラスを新規に作成しましょう。
メニューから[ファイル]-[新規]-[クラス]をクリックして、「新規Javaクラス」を開きます。
ここでは、名前に”Paper”を入力し、[完了]をクリックしましょう。

[![https://gyazo.com/7c0a3985dacfff047c2acc43c833ef8c](https://i.gyazo.com/7c0a3985dacfff047c2acc43c833ef8c.png)](https://gyazo.com/7c0a3985dacfff047c2acc43c833ef8c)

クラスの宣言部に当たる`public class クラス名{}`は既に記述されています。
この宣言の`{}`内に、画用紙の特徴を表すフィールドを定義します。
ここでは、**width**、**height**、**color**の3つのフィールドです。
下記のコードを参考に、色画用紙を表すクラス**Paper**のフィールドを宣言してみましょう。

{% gist naoto-github/f81eea61b00dd8eaa305 %}

次に、下記のコードを参考にPaperクラスをインスタンス化してみましょう。
ここでは、幅182[mm]、高さ257[mm]、赤色の画用紙を想定しています。
インスタンス化は`クラス名 変数名 = new クラス名()`と記述します。
また、フィールドに値を代入したり、保存されている値を取り出すには`変数名.フィールド名`と記述します。
このコードはMyClassクラスに記述していることに注意してください。
プログラムの実行後にコンソール出力を確認してください。

{% gist naoto-github/53c7bc35f81c8e2cf972 %}

# <img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png">メソッドの定義

Paperクラスのメソッドを定義してみましょう。
ここでは、画用紙の**面積**を計算するメソッドを考えてみます。
メソッドは下記のように記述します。
**返値**とは、メソッド実行後に、呼び出し元に返す値のことを指します。
この場合、**返値の型**はint、**返値**は面積となります。

    public 返値の型 メソッド名(){
        実行する命令
        return 返値;
    }

下記のコードを参考に、Paperクラスに面積を計算する**getArea**メソッドを定義しましょう。
int型の変数*area*に計算した値を一旦代入して、`return area;`で呼び出し元に面積を返しています。
ここで、`this.width`や`this.height`などの表記は、
変数*width*と*height*がPaperクラスのフィールドであることを明示するために用いています。

{% gist naoto-github/e6045d8380f5b7a5bf43 %}

下記のコードを参考に、呼び出し元であるMyClassクラスで、
**getArea**メソッドの返値を受け取り、コンソールに出力してみましょう。
メソッドを呼び出すには、`変数名.メソッド名()`と記述します。
プログラムの実行後にコンソール出力を確認してください。

{% gist naoto-github/7431d52103f6db5b30e4 %}

メソッドには呼び出し元から**引数**を渡すことができます。
引数は「呼び出し元」から「呼び出し先」へ渡される変数と理解してください。
1つの引数を渡すメソッドは下記のように記述します。
引数を複数列挙して、一度に複数の値を渡すことも可能です。

    public 返値の型 メソッド名(引数の型 引数){
        実行する命令
        return 返値;
    }

下記のコードを参考に、画用紙の大きさを指定倍する**expand**メソッドを定義しましょう。
int型の変数*scale*を引数として、画用紙の幅と高さを拡大しています。
ここで、**void**は、このメソッドは返値がないことを意味しています（**return**もない）。

{% gist naoto-github/c5e3853d3fd45c9f255a %}

下記のコードを参考に、呼び出し元であるMyClassクラスで、
**expand**メソッドを呼び出し、幅と高さの値をコンソールに出力してみましょう。
ここでは、int型の変数*scale*に2を代入し、引数として**expand**メソッドに渡しています。
プログラムの実行後にコンソール出力を確認してください。

{% gist naoto-github/13be255404ddcb0fb985 %}

勘の良い人は気づいていると思いますが、MyClassクラスのmainメソッドは特殊なメソッドで、
プログラムを実行するときに最初に呼び出されるメソッドです。

# <img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png">コンストラクタ

コンストラクタは特殊なメソッドで、クラスのインスタンス化と同時に呼び出されるという特徴があります。
このため、コンストラクタはフィールドの初期化に利用されます。
下記のコードを参考に、Paperクラスのコンストラクタを定義しましょう。
コンストラクタはクラス名と同一のメソッド名です。
左の`this.width`はフィールド、右の`width`は引数であることに注意してください。

{% gist naoto-github/b317d219b64002c73cf1 %}

下記のコードを参考に、呼び出し元であるMyClassクラスで、
コンストラクタを利用して、幅（width）、高さ（height）、色（color）のフィールドを初期化しましょう。
プログラムの実行後にコンソール出力を確認してください。

{% gist naoto-github/2d8bbd9ff31268997988 %}

# <img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png">課題

円形の色画用紙を表す**RoundPaper**クラスを新規に定義してください。
また、半径91[mm]、青色で**RoundPaper**クラスをインスタンス化し、
**半径**、**色**、**面積**をコンソールに出力してください。
ただし、面積はメソッドを定義して計算してください（円周率は**Math.PI**を用いること）。
課題が完成したら、作成したプロジェクトを**実行可能JARファイル**の形式でファイルに保存（エクスポート）してください。

[![https://gyazo.com/bf4dd1ef8deb32ac0eaa203101a1aa1f](https://i.gyazo.com/bf4dd1ef8deb32ac0eaa203101a1aa1f.png)](https://gyazo.com/bf4dd1ef8deb32ac0eaa203101a1aa1f)

{% include applied_programming/reference.html %}