---
layout: page
title: "オブジェクト指向②継承とインターフェイス"
permalink: /class/applied_programming/chapter8.html
top_link: false
image: "https://i.gyazo.com/ac56caad0b3dd031d0f2e470a58e4ba1.png"
---

[![https://gyazo.com/ac56caad0b3dd031d0f2e470a58e4ba1](https://i.gyazo.com/ac56caad0b3dd031d0f2e470a58e4ba1.png)](https://gyazo.com/ac56caad0b3dd031d0f2e470a58e4ba1)

# <img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png">プロジェクトの準備

Eclipseで新規にプロジェクトを作成しましょう。
メニューから[ファイル]-[新規]-[Javaプロジェクト]をクリックして、「新規Javaプロジェクトの作成」を開きます。
ここでは、プロジェクト名に”Project8”を入力して、[完了]をクリックしましょう。
パッケージ・エクスプローラに作成したプロジェクトが表示されていることを確認してください。

[![https://gyazo.com/aed71e52d207f93bcc80b18f00f54710](https://i.gyazo.com/aed71e52d207f93bcc80b18f00f54710.png)](https://gyazo.com/aed71e52d207f93bcc80b18f00f54710)

続いてソースファイルを作成しましょう。
メニューから[ファイル]-[新規]-[クラス]をクリックして、「新規Javaクラス」を開きます。
ここでは、名前に”MyClass”を入力し、public static void main(String[] args)(V)にチェックを入れ、[完了]をクリックしましょう。
パッケージ・エクスプローラに作成したソースファイルが表示されていることを確認してください。

[![https://gyazo.com/6997418967567ab61292b06ecf566aa4](https://i.gyazo.com/6997418967567ab61292b06ecf566aa4.png)](https://gyazo.com/6997418967567ab61292b06ecf566aa4)

# <img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png">継承とは

前回は**オブジェクト指向**について学習しました。
オブジェクト指向とは「現実世界の**オブジェクト（もの）**を、そのままプログラムの世界の**オブジェクト（もの）**に置き換えること」を意味しているんでしたね。
そして、オブジェクトの型を**クラス**で表現することも理解したかと思います。
今回は、オブジェクト指向における重要な機能の１つクラスの**継承**について学びます。
クラスの**継承**とは、「クラスの持つフィールドやメソッドを引き継ぎながら新しいクラスを作成すること」を意味しています。
この**継承**という機能を利用することで、コードの冗長性を排除し、スッキリとした表現で記述することが可能になります。

ここでは、**会話が出来るロボット**を表す**Robotクラス**を作成してみましょう。
メニューから[ファイル]-[新規]-[クラス]をクリックして、「新規Javaクラス」を開きます。 ここでは、名前に”Robot”を入力し、[完了]をクリックしましょう。

[![https://gyazo.com/38cfeab5c7516c7921da141b572f75a0](https://i.gyazo.com/38cfeab5c7516c7921da141b572f75a0.png)](https://gyazo.com/38cfeab5c7516c7921da141b572f75a0)

下記のコードを参考に、**name**フィールドと、**speakメソッド**を定義してください。
コンストラクタでnameフィールドを初期化していることに注意してください。

{% gist naoto-github/08030d2ff5f1fd35b0bd %}

下記のコード参考にRobotクラスをインスタンス化してみましょう。
ここでは、ロボットの名前を**ロボット1号**とします。
プログラムの実行後にコンソール出力を確認してください。

{% gist naoto-github/c462fe47eecf682ba2b0 %}

上記で作成したロボット１号は一方的に話すだけで面白くありません。
そこで、次に**対話が可能なロボット**に改良してみましょう。
このようなときに利用すると便利な機能が**継承**です。
**Robotクラス**を継承して**TalkRobot**を作成してみます。

メニューから[ファイル]-[新規]-[クラス]をクリックして、「新規Javaクラス」を開きます。 ここでは、名前に”TalkRobot”、スーパクラスに"Robot"を入力し、[完了]をクリックしましょう。
この**スーパークラス**とは、継承元となるクラスを意味し、「スーパークラス」の他にも「親クラス」などと呼びます。
一方、継承したクラスは、「サブクラス」や「子クラス」と呼びます。

[![https://gyazo.com/9b0ac23357e6cc4450ead3aa936ad38f](https://i.gyazo.com/9b0ac23357e6cc4450ead3aa936ad38f.png)](https://gyazo.com/9b0ac23357e6cc4450ead3aa936ad38f)

継承するとクラス宣言部の**extends**の後に継承元のクラス名が記述されます。
下記のコードを参考に、**talkメソッド**を定義してください。
talkメソッドでは、キーボードから名前を入力すると、ロボットが入力された名前を話します。
コンストラクタ内の`super(name)`は、スーパークラスであるRobotクラスのコンストラクタと同じ処理をします。

{% gist naoto-github/b9958f1078d2b02d43b8 %}

下記のコードを参考にTalkRobotクラスをインスタンス化してみましょう。
ここでは、ロボットの名前を**ロボット2号**とします。
プログラムの実行後にコンソール出力を確認してください。
Robotクラスを継承することで、Robotクラスのnameフィールドやspeakメソッドを、
TalkRobotでも利用できることが分かります。

{% gist naoto-github/8cb9694bb39be140b29e %}

TalkRobotクラスで、speakメソッドを修正することもできます。
これを**オーバーライド**と呼びます。
ここでは、下記のコードを参考にspeakメソッドをオーバライドして、
男らしい話し方をするロボットに修正しましょう。
プログラムの実行後にコンソール出力を確認してください。

{% gist naoto-github/05e394e700efa4d8c878 %}

# <img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png">インターフェイスとは

継承する際に**スーパークラス**は1つしか指定することはできません。
複数の継承元の機能を引き継ぎたい場合はどうすれば良いでしょうか（**多重継承**と呼びます）。
このような場合に利用するのが**インターフェイス**です。
インターフェイスは下記の点がクラスとは異なります。

- すべてのメソッドは**抽象メソッド**
- フィールドは持てない（例外有）

ここで、抽象メソッドとは「メソッド名はあるけど内容は未定義」という特徴を持ちます。
このため、インターフェイスで定義されているメソッドは、継承したクラスで必ずオーバーライドする必要があります。
また、インターフェイスを継承することを**実装**と呼ぶことが多いので注意が必要です。

ここでは、ロボットに**飛行機能**を付与する**FlightUnitインターフェィス**を作成してみましょう。
メニューから[ファイル]-[新規]-[インターフェイス]をクリックして、「新規Javaインターフェイス」を開きます。 ここでは、名前に”FlightUnit”を入力し、[完了]をクリックしましょう。

[![https://gyazo.com/562b2b2e94838602ab863cbcefede76a](https://i.gyazo.com/562b2b2e94838602ab863cbcefede76a.png)](https://gyazo.com/562b2b2e94838602ab863cbcefede76a)

下記のコードを参考に、**fly**メソッドを定義してください。
このflyメソッドは抽象メソッドのため`public void fly();`と記述します。

{% gist naoto-github/a55a5cd5029e4054ba46 %}

下記のコードを参考にTalkRobotクラスにFlightUnitインターフェイスを実装してみましょう。
インターフェイスを実装するにはクラス宣言部の**implements**の後にインターフェイス名を記述します。
また、flyメソッドもオーバーライドしておきます。

{% gist naoto-github/18fb489c055b57b4ec52 %}

最後に、下記のコードを参考に、TalkRobotのインスタンスからflyメソッドを呼び出してみましょう。
プログラムの実行後にコンソール出力を確認してください。

{% gist naoto-github/1397f116bc1c39840a41 %}

# <img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png">課題

ロボットに**歌唱機能**を付与する**SingUnitインターフェイス**を作成してください。
メソッド名は**sing**とし、TalkRobotに実装したうえで、singメソッドを呼び出してください。
課題が完成したら、作成したプロジェクトを実行可能JARファイルの形式でファイルに保存（エクスポート）してください。

{% include applied_programming/reference.html %}
