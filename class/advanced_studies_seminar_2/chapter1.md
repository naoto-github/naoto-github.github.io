---
layout: page
title: "R言語の基本的な操作"
permalink: /class/advanced_studies_seminar_2/chapter1.html
top_link: false
image: "https://i.gyazo.com/d9d5ba93ffba391fb05f386a7c29975e.png"
---

[![https://gyazo.com/d9d5ba93ffba391fb05f386a7c29975e](https://i.gyazo.com/d9d5ba93ffba391fb05f386a7c29975e.png)](https://gyazo.com/d9d5ba93ffba391fb05f386a7c29975e)

# <img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png">R言語とは

[R](https://cran.r-project.org/)は、AT &amp; Tベル研究所が開発したS言語を基本に開発された統計解析向けのプログラミング言語です。
オープンソースとして開発されており、誰でも自由に利用、改変、再配布が可能なフリーソフトウェアです。
統計用のソフトウェアには、マイクロソフトの[Excel](https://products.office.com/ja-jp/excel)や、
IBMの[SPSS](https://www.ibm.com/analytics/jp/ja/technology/spss/)などがありますが、
R言語はプログラミング言語として統計処理が可能なことが大きな特徴となっています。
一方でGUI（グラフィカル・ユーザ・インターフェイス）は弱く、文化系の学生には取っ付きにくい印象を与えるかもしれません。
しかし、**R**の基本を学べば、データマイニングなどの高度な統計解析手法を利用することが可能です。
この授業では**R**の基本から学び、多変量解析やデータマイニングなどの応用を学習することを目標とします。

# <img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png">R言語のインストール

まずは**R**を[公式サイト](https://cran.r-project.org/)からダウンロードしてインストールしましょう。
現在のところ公式サイトは英語表記しかないので注意してください。
この資料では、2017年3月8日の時点の最新バージョンである**R 3.3.3**を利用して説明していきます。
**R**をインストールするとデスクトップに32ビット版の「R i386 3.3.3」と
64ビット版の「R x64 3.3.3」のショートカットが作成されます。
各自のPC環境に合わせてプログラムを実行してください。
実行すると下記のような「R console」というウィンドウが表示されます（ここでは64ビット版を使用）。

[![https://gyazo.com/22f8a78a5d7f0a757f892e90e5b9f488](https://i.gyazo.com/22f8a78a5d7f0a757f892e90e5b9f488.png)](https://gyazo.com/22f8a78a5d7f0a757f892e90e5b9f488)

**R**による統計処理は、この「R console」に命令文を入力することが基本となります。
行頭の「**>**」はプロンプトと呼ばれ、この後にコマンド（命令）を入力して、
エンターキーを押すとコマンドが実行されます。
これを繰り返して、特定の処理を実現します。

# <img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png">四則演算

まずは、加算、減算などの算術演算を実行してみましょう。
**R**では、下記表の算術演算子が利用可能です。

|演算|演算子|例|
|:-|:-|:-|
|加算|+|2+3|
|減算|-|2-3|
|乗算|*|2*3|
|除算|/|2/3|
|べき乗|^|2^3|
|剰余|%%|2%%3|

では、プロンプトの後に、「**2 + 3**」と入力してみましょう。
すると下記のような加算の結果が得られます。
ここで、**[1]**は出力される結果の1番目であることを意味しています。
（今回は**5**のみが結果となるので、必然的に1番目になる）

    > 2+3
    [1] 5

同様に、「**2 - 3**」「**2 * 3**」「**2 / 3**」「**2 ^ 3**」「**2 %% 3**」を実行して、
結果を確認してみましょう。

    > 2-3
    [1] -1
    > 2*3
    [1] 6
    > 2/3
    [1] 0.6666667
    > 2^3
    [1] 8
    > 2%%3
    [1] 2

# <img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png">文字列の出力

次に文字列を出力してみましょう。
文字列を表示するには**cat**という**関数**を利用します。
ここで**関数**とは、なんらかの値に対して処理をして、結果を返す演算のことです。
関数名（例、**cat**）の後に、半角の括弧**()**を付けます。
このとき、括弧の中で、値を指定することが可能で、この値のことを**引数**と呼びます。

では、「**cat("Test\n")**」と入力してみましょう。
文字列は前後にダブルクォーテーション**"**を付ける必要があることに注意してください。
また、**\n**は改行コードであり、文末で改行することを意味しています。

    > cat("Test\n")
    Test
    
日本語の出力も可能です。
次は、「**cat("テスト\n")**」と入力してみましょう。

    > cat("テスト\n")
    テスト

# <img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png">スクリプトの作成

上記の演算や関数をまとめてファイルに記録することができます。
これを**スクリプト**と呼びます。
[ファイル]-[新しいスクリプト]をクリックし、コードを入力するための**Rエディタ**を表示します。
この**Rエディタ**に、**cat**関数を下記のように2回入力しましょう（氏名は各自で置き換えて下さい）。
    
    cat("展開演習2\n")
    cat("向直人\n")

入力したら[ファイル]-[保存]をクリックして、スクリプトを保存します。
ファイル名は**chapter1**としてください。
拡張子には**.R**が自動で設定されます。
デフォルトでは**ドキュメント**に保存されますが、
この授業では**デスクトップ**に保存するようにしましょう。

次に、作業ディレクトリの変更を行います。
作業ディレクトリは上記のスクリプトファイルを保存したフォルダにします。
ここでは**デスクトップ**を作業ディレクトリにしてください。

それでは、先程保存した**chapter1.R**を読み込み実行します。
プロンプトに「**source("chapter1.R")**」と入力してください。
すると、**chapter1.R**に記述した関数が実行され、
その結果がコンソールに出力されます。

    > source("chapter1.R")
    展開演習2
    向直人

このようにスクリプトに**R**の命令を複数記述しておき、
**source**関数を利用して、読み込んで実行するという流れがスムーズです。

# <img style="margin-right:5px;margin-bottom:7px" src="/favicon/favicon-25x25.png">課題

作成した**chapter1.R**に、**cat**関数を利用して、本日の授業の感想を記述しなさい。
また、コンソールの出力結果と、**chapter1.R**を提出すること。

{% include advanced_studies_seminar_2/reference.html %}